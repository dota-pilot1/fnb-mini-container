================================================================
학습 계획 — 다단계 메뉴 다루기
================================================================

■ 목표
  현업의 고정 3단계 + 숫자 ID 방식의 문제점을 이해하고,
  parent_id 기반 무한 카테고리 구조로 개선된 메뉴 시스템 구현

■ 현업 방식의 문제점 (반면교사)
  - prog_no (12자리 숫자)로 부모-자식 관계 표현 → 사람이 직접 입력
  - 고정 3단계 (progLvl 3, 4, 5) → 구조 변경 불가
  - FK 없음 → 잘못 입력해도 DB가 못 잡아줌
  - 다국어 테이블 별도 관리 → 누락 시 메뉴 안 뜸

----------------------------------------------------------------

1단계 — DB 설계 + 백엔드 트리 조립
----------------------------------------------------------------
  [ DB ]
  - menu 테이블: id, parent_id (self FK), name, component_path, sort_order, use_yn
  - parent_id NULL → 최상위 (헤더에 표시)

  [ 백엔드 ]
  - 전체 메뉴 한 번 조회 후 Java 코드에서 재귀로 트리 조립
    OR 재귀 CTE 쿼리로 한 번에 트리 반환
  - GET /api/menus → 전체 트리 구조 반환

  [ 학습 포인트 ]
  - 자기참조 테이블 설계
  - 재귀 트리 조립 로직


2단계 — 프론트 헤더 + 사이드바 연동
----------------------------------------------------------------
  [ 전역 상태 ]
  - menuTree     : 전체 메뉴 트리 (로그인 시 1회 로드)
  - currentMenus : 현재 사이드바에 표시할 메뉴 목록
  - menuHistory  : 뒤로가기용 스택

  [ 동작 ]
  - 헤더: 최상위(parent_id=null) 메뉴 표시
  - 헤더 클릭 → currentMenus = 클릭한 메뉴의 children
  - 사이드바 항목 클릭 (children 있음) → currentMenus 교체 + history push
  - 사이드바 항목 클릭 (children 없음, 말단) → 페이지 이동
  - 뒤로가기 버튼 → history pop → currentMenus 복원
  - 사이드바 슬라이드 오픈/클로즈: CSS transform + transition

  [ 학습 포인트 ]
  - 전역 상태(Context or Zustand) 설계
  - 컴포넌트 간 상태 공유 패턴


3단계 — 메뉴 CRUD (관리 화면)
----------------------------------------------------------------
  - 트리 형태로 전체 메뉴 출력
  - 부모 선택 드롭다운 → 하위 메뉴 추가
  - 메뉴명, 컴포넌트 경로, 사용여부 수정
  - sort_order 자동 계산 (마지막 순서로 추가)

  [ 학습 포인트 ]
  - 트리 UI 렌더링 (재귀 컴포넌트)
  - CRUD API 연동


4단계 — 드래그앤드롭 순서 변경 (선택)
----------------------------------------------------------------
  - 트리 UI에서 드래그로 순서/부모 변경
  - sort_order 일괄 업데이트 API
  - 전역 상태 낙관적 업데이트

  [ 학습 포인트 ]
  - dnd-kit 또는 react-beautiful-dnd 활용
  - 복잡한 전역 상태 관리

================================================================
